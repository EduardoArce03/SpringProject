<p-toast />
<div class="flex justify-content-center align-items-center min-h-screen w-ful">
    <p-card header="Formulario pa libro">
        <form [formGroup]="form" (ngSubmit)="edit?updateBook():createBook()" class="flex flex-column gap-2">
            <div class="field">
                <label for="title">Titulo</label>
                <input id="title" type="text" formControlName="title"
                    class="text-base text-color surface-overlay p-2 border-1 border-solid surface-border border-round appearance-none outline-none focus:border-primary w-full">
            </div>
            <div class="field flex flex-column gap-1">
                <label for="author">Autor</label>
                <input id="author" type="text" formControlName="author"
                    class="text-base text-color surface-overlay p-2 border-1 border-solid surface-border border-round appearance-none outline-none focus:border-primary w-full">
            </div>
            <div class="field flex flex-column gap-1">
                <label for="lastname1">Paginas</label>
                <p-inputNumber inputId="integeronly" formControlName="pages" />
            </div>
            <div class="field flex flex-column gap-1">
                <label for="lastname1">Precio</label>
                <p-inputNumber inputId="integeronly" formControlName="price" />
            </div>
            <div class="field flex flex-column gap-1">
                <label for="stock1">Stock</label>
                <p-inputNumber inputId="integeronly" formControlName="stock" />
            </div>
            <div class="field flex flex-column gap-1">
                <label for="selectedCategories">Categoria</label>
                <p-multiSelect [options]="categories" optionLabel="name" optionValue="id"
                    placeholder="Seleccione una categoria" defaultLabel="Seleccione una categoria" [showClear]="true"
                    formControlName="selectedCategories" />
            </div>
            <p-fileUpload mode="basic" [chooseLabel]="edit?'Cambiar imagen':'Seleccionar imagen'"
                chooseIcon="pi pi-upload" name="demo[]" [customUpload]="true" accept="image/*" maxFileSize="1000000"
                (onSelect)="edit?changeImage($event):onFileSelected($event)" />

            <div class="flex gap-2">
                <p-button label="Guardar" type="submit" [loading]="isSaveInProgress" />
            </div>
        </form>
    </p-card>
</div>